# Default_test Plugin

Plugin for gRPC Testify that provides default_test validation functionality.

## Overview

**Type**: assertion  
**API Version**: 1.0.0  
**Status**: Development  

Custom plugin template generated by grpctestify.

## Usage

### Basic Syntax

```php
--- ASSERTS ---
@default_test("parameter") == "expected_value"
@default_test("parameter") | test("regex_pattern")
```

### Examples

```php
# Basic assertion
@default_test("field") == "expected"

# Pattern matching
@default_test("field") | test("^[0-9]+$")

# Combined with jq
@default_test("field") == "value" and .other_field == "test"
```

## Configuration

The plugin supports the following configuration options:

| Option | Default | Description |
|--------|---------|-------------|
| `timeout` | `30` | Plugin operation timeout in seconds |
| `strict_mode` | `false` | Enable strict validation mode |
| `debug` | `false` | Enable debug logging |

### Setting Configuration

```bash
# Set configuration
set_default_test_config "timeout" "60"
set_default_test_config "strict_mode" "true"

# Get configuration
timeout=$(get_default_test_config "timeout")
```

## API Reference

### Functions

#### `assert_default_test(response, parameter, expected_value, operation_type)`

Main assertion function for the plugin.

**Parameters:**
- `response` - gRPC response JSON
- `parameter` - Parameter to extract/validate
- `expected_value` - Expected value or pattern
- `operation_type` - Type of operation (equals, test)

**Returns:**
- `0` - Assertion passed
- `1` - Assertion failed

#### `test_default_test(response, parameter, pattern)`

Pattern testing function for regex validation.

#### `extract_default_test_value(response, parameter)`

Extracts value from response for the given parameter.

### Configuration Functions

#### `set_default_test_config(key, value)`

Sets plugin configuration.

#### `get_default_test_config(key)`

Gets plugin configuration value.

## Implementation Details

Implementation details to document:
- How the plugin extracts values from responses
- What data formats are supported
- Error handling approach and recovery strategies
- Performance considerations and optimizations

## Testing

Run the plugin tests:

```bash
bats grpc_default_test.bats
```

## Development

Development guidelines:
- How to extend the plugin functionality
- Adding new features and capabilities
- Contributing guidelines and best practices

## Examples

### Real-World Usage

Examples showing the plugin in production scenarios:
- Integration with CI/CD pipelines
- Complex assertion patterns
- Performance optimization techniques

## Troubleshooting

### Common Issues

Common issues and their solutions:
- Configuration problems and fixes
- Performance issues and optimization
- Integration challenges and workarounds

### Debug Mode

Enable debug mode for detailed logging:

```bash
set_default_test_config "debug" "true"
```

## Changelog

### Version 1.0.0
- Initial plugin template

## License

This plugin is part of gRPC Testify and follows the same license terms.
