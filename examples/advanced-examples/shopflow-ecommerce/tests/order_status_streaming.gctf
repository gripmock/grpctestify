--- ADDRESS ---
localhost:4770

--- ENDPOINT ---
shopflow.ShopFlowService/StreamOrderStatus

--- REQUEST ---
{
    "order_id": "order_001"
}

--- RESPONSE ---
[
    {
        "order_id": "order_001",
        "status": "ORDER_STATUS_CONFIRMED",
        "message": "Order status updated to ORDER_STATUS_CONFIRMED",
        "updated_at": "2024-01-01T00:00:00Z",
        "tracking_number": "TRK123456"
    },
    {
        "order_id": "order_001",
        "status": "ORDER_STATUS_PROCESSING",
        "message": "Order status updated to ORDER_STATUS_PROCESSING",
        "updated_at": "2024-01-01T00:00:00Z",
        "tracking_number": "TRK123456"
    },
    {
        "order_id": "order_001",
        "status": "ORDER_STATUS_SHIPPED",
        "message": "Order status updated to ORDER_STATUS_SHIPPED",
        "updated_at": "2024-01-01T00:00:00Z",
        "tracking_number": "TRK123456"
    },
    {
        "order_id": "order_001",
        "status": "ORDER_STATUS_DELIVERED",
        "message": "Order status updated to ORDER_STATUS_DELIVERED",
        "updated_at": "2024-01-01T00:00:00Z",
        "tracking_number": "TRK123456"
    }
]

--- ASSERTS ---
[0].order_id == "order_001"
[0].status == "ORDER_STATUS_CONFIRMED"
[0].message | test("CONFIRMED")
[0].tracking_number | test("^TRK")
[1].status == "ORDER_STATUS_PROCESSING"
[1].message | test("PROCESSING")
[2].status == "ORDER_STATUS_SHIPPED"
[2].message | test("SHIPPED")
[3].status == "ORDER_STATUS_DELIVERED"
[3].message | test("DELIVERED")
length == 4

--- OPTIONS ---
timeout: 30
redact: ["updated_at"]
