--- ADDRESS ---
localhost:50054

--- ENDPOINT ---
aichat.AIChatService/StreamChat

--- REQUEST ---
{
  "session_id": "session_001",
  "user_id": "user_001",
  "initial_message": "Tell me a short story about a robot learning to paint",
  "settings": {
    "model": "gpt-4",
    "temperature": 0.8,
    "max_tokens": 200,
    "enable_streaming": true
  },
  "enable_streaming": true
}

--- ASSERTS ---
.message_id | test("stream_.*")
.session_id == "session_001"
.user_id == "user_001"
.content | length > 0
.message_type == "MESSAGE_TYPE_TEXT"
.role == "MESSAGE_ROLE_ASSISTANT"
.is_streaming == true
.stream_chunk > 0
.total_chunks > 0
.stream_chunk <= total_chunks

--- OPTIONS ---
timeout: 20
