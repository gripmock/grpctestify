--- ADDRESS ---
localhost:4770

--- ENDPOINT ---
aichat.AIChatService/SendMessage

--- REQUEST ---
{
  "session_id": "session_001",
  "user_id": "user_001",
  "message": "Hello! I'm feeling great today and would love to chat about technology.",
  "message_type": "MESSAGE_TYPE_TEXT",
  "context": {
    "topic": "technology",
    "mood": "excited",
    "time_of_day": "morning"
  },
  "language": "en"
}

--- ASSERTS ---
.success == true
.message_id | test("msg_.*")
.ai_response | contains("Hello")
.ai_response | contains("help")
.sentiment.overall_sentiment == "positive"
.sentiment.positive_score > 0.5
.sentiment.negative_score < 0.3
.sentiment.neutral_score < 0.5
.metrics.response_time_ms > 0
.metrics.tokens_used > 0
.metrics.tokens_generated > 0
.metrics.cost_usd > 0
.metrics.model_used == "gpt-4"

--- OPTIONS ---
timeout: 10
