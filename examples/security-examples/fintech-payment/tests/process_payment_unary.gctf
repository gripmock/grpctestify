--- ADDRESS ---
localhost:50055

--- ENDPOINT ---
payment.PaymentService/ProcessPayment

--- REQUEST ---
{
  "account_id": "acc_001",
  "merchant_id": "merchant_001",
  "amount": 150.00,
  "currency": "USD",
  "payment_method": "card",
  "risk_level": "low",
  "card_details": {
    "card_number": "4111111111111111",
    "cardholder_name": "John Doe",
    "expiry_month": "12",
    "expiry_year": "2025",
    "cvv": "123",
    "card_type": "visa",
    "issuer": "Chase Bank",
    "is_primary": true
  },
  "metadata": {
    "merchant_category": "retail",
    "transaction_type": "purchase",
    "location": "online"
  }
}

--- ASSERTS ---
.success == true
.transaction_id | test("txn_.*")
.status == "approved"
.message == "Payment processed successfully"
.amount_charged == 150.00
.currency == "USD"
.risk_assessment.risk_level == "low"
.risk_assessment.risk_score < 0.5
.compliance_check.compliance_status == "compliant"
.compliance_check.violations | length == 0

--- OPTIONS ---
timeout: 10
