--- ADDRESS ---
localhost:50055

--- ENDPOINT ---
payment.PaymentService/FraudDetection

--- REQUEST ---
{
  "request_id": "req_001",
  "account_id": "acc_001",
  "merchant_id": "merchant_001",
  "amount": 2500.00,
  "currency": "USD",
  "card_details": {
    "card_number": "4111111111111111",
    "cardholder_name": "John Doe",
    "expiry_month": "12",
    "expiry_year": "2025",
    "cvv": "123",
    "card_type": "visa",
    "issuer": "Chase Bank"
  },
  "metadata": {
    "merchant_category": "electronics",
    "transaction_type": "purchase"
  },
  "ip_address": "192.168.1.100",
  "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)",
  "timestamp": "2024-01-01T12:00:00Z"
}

--- ASSERTS ---
.request_id == "req_001"
.analysis_id | test("analysis_.*")
.risk_level == "medium"
.risk_score > 0.3
.risk_score < 0.7
.risk_factors | contains("amount_above_average")
.risk_factors | contains("new_merchant")
.recommendation == "review"
.fraud_indicators.unusual_amount == true
.fraud_indicators.suspicious_location == false
.fraud_indicators.velocity_alert == false
.compliance_violations.aml_violation == false
.compliance_violations.kyc_violation == false

--- OPTIONS ---
timeout: 30
