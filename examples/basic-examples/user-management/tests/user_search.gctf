# User Search Test
# Tests user search functionality with pagination

--- ADDRESS ---
localhost:50051

--- ENDPOINT ---
user.UserService/SearchUsers

--- REQUEST ---
{
    "query": "john_doe",
    "roles": ["user", "premium"],
    "active_only": true,
    "page": 1,
    "page_size": 10
}

--- ASSERTS ---
.users | length >= 0
.users[0].id == "user_12345"
.users[0].username == "john_doe"
.users[0].email | test("@")
.users[0].active == true
.users[0].roles | length >= 1
.users[0].metadata.department == "engineering"
.total_count | type == "number"
.page == 1
.page_size == 10
.has_more | type == "boolean"

--- OPTIONS ---
timeout: 30

